package com.pcs.lib_ztqfj_v2.model.pack.net.warn;

import com.pcs.lib.lib_pcs_v3.model.pack.PcsPackDown;
import com.pcs.lib_ztqfj_v2.model.pack.tool.GetJSONObject;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import java.util.ArrayList;
import java.util.List;

public class PackWarningCenterPublicNaturalDown extends PcsPackDown {

    public List<WarnCenterYJXXGridBean> county = new ArrayList<>();// 县级预警
    public List<WarnCenterYJXXGridBean> province = new ArrayList<>();// 省预警
    public List<WarnCenterYJXXGridBean> city = new ArrayList<>();// 市级预警

    public String countyname = "";// 县级预警名称
    public String provincesName = "";// 省预警名称
    public String cityname = "";// 市级预警名称

    @Override
    public void fillData(String jsonStr) {

        county = new ArrayList<WarnCenterYJXXGridBean>();
        province = new ArrayList<WarnCenterYJXXGridBean>();
        city = new ArrayList<WarnCenterYJXXGridBean>();
        try {
            JSONObject obj = new JSONObject(jsonStr);
            updateMill = obj.optLong("updateMill");

            GetJSONObject getJson = new GetJSONObject(obj);

            countyname = (String) getJson.getJSONObjectValue("countyname");
            provincesName = (String) getJson.getJSONObjectValue("provincesName");
            cityname = (String) getJson.getJSONObjectValue("cityname");

            JSONArray warn_city = obj.optJSONArray("city");
            if(warn_city != null) {
                for (int i = 0; i < warn_city.length(); i++) {
                    WarnCenterYJXXGridBean warn = new WarnCenterYJXXGridBean();
                    warn.id = warn_city.getJSONObject(i).optString("id");
                    warn.level = warn_city.getJSONObject(i).optString("level");
                    warn.ico = warn_city.getJSONObject(i).optString("ico");
                    warn.put_str = warn_city.getJSONObject(i).optString("put_str");
                    warn.put_time = warn_city.getJSONObject(i).optString("yj_time");
                    city.add(warn);
                }
            }

            JSONArray warn_province = obj.optJSONArray("province");
            if(warn_province != null) {
                for (int i = 0; i < warn_province.length(); i++) {
                    WarnCenterYJXXGridBean warn = new WarnCenterYJXXGridBean();
                    warn.id = warn_province.getJSONObject(i).optString("id");
                    warn.level = warn_province.getJSONObject(i).optString("level");
                    warn.ico = warn_province.getJSONObject(i).optString("ico");
                    warn.put_str = warn_province.getJSONObject(i).optString("put_str");
                    warn.put_time = warn_province.getJSONObject(i).optString("yj_time");
                    province.add(warn);
                }
            }

            JSONArray warn_county = obj.optJSONArray("county");
            if(warn_county != null) {
                for (int i = 0; i < warn_county.length(); i++) {
                    WarnCenterYJXXGridBean warn = new WarnCenterYJXXGridBean();
                    warn.id = warn_county.getJSONObject(i).optString("id");
                    warn.level = warn_county.getJSONObject(i).optString("level");
                    warn.ico = warn_county.getJSONObject(i).optString("ico");
                    warn.put_str = warn_county.getJSONObject(i).optString("put_str");
                    warn.put_time = warn_county.getJSONObject(i).optString("yj_time");
                    county.add(warn);
                }
            }

        } catch (JSONException e) {
            e.printStackTrace();
        }
    }

    @Override
    public String toString() {
        return null;
    }

}
